{% extends "layouts/main.html" %}
{% from "pages/communities/community_aside.html" import community_aside with context %}


{% block title %}Dungeon - Communities{% endblock %}

{% block scripts %}
    <script>document.title = 'Dungeon - Communities'</script>
{% endblock %}

{% block inner_sidebar_content %}
    {{ sidebar_menu_group(
        header_content='',
        buttons=[
            {"content": "Browse", "icon_path": "light_dark_mode.png"},
            {"content": "History", "icon_path": "library.png"},
            {"content": "+ Post", "icon_path": "library.png"},
            {"content": "+ Create", "icon_path": "library.png"}
        ]
    ) }}

    {{ sidebar_menu_group(
        header_content='Favorties',
        buttons=[
            {"content": "Community 1", "icon_path": "home.png"},
            {"content": "Community 2", "icon_path": "home.png"},
            {"content": "Community 3", "icon_path": "home.png"},
            {"content": "Community 4", "icon_path": "community.png"},
            {"content": "View All", "icon_path": "settings.png"}
        ]
    ) }}

    {{ sidebar_menu_group(
        header_content='Recently Opened',
        buttons=[
            {"content": "Community 1", "icon_path": "home.png"},
            {"content": "Community 2", "icon_path": "home.png"},
            {"content": "Community 3", "icon_path": "home.png"},
            {"content": "Community 4", "icon_path": "community.png"},
            {"content": "View All", "icon_path": "settings.png"}
        ]
    ) }}

    {{ sidebar_menu_group(
        header_content='Following',
        buttons=[
            {"content": "Community 1", "icon_path": "home.png"},
            {"content": "Community 2", "icon_path": "home.png"},
            {"content": "Community 3", "icon_path": "home.png"},
            {"content": "Community 4", "icon_path": "community.png"},
            {"content": "View All", "icon_path": "settings.png"}
        ]
    ) }}

    {{ sidebar_menu_group(
        header_content='Other',
        buttons=[
            {"content": "Your Communities", "icon_path": "home.png"},
            {"content": "Saved Posts", "icon_path": "home.png"},
            {"content": "Your Communities", "icon_path": "home.png"},
            {"content": "Saved Posts", "icon_path": "home.png"},
            {"content": "Your Communities", "icon_path": "home.png"},
            {"content": "Saved Posts", "icon_path": "home.png"}
        ]
    ) }}
{% endblock %}

{% block main_body %}

    <div 
        class="
            relative flex-1 min-w-[15rem] max-w-[90rem] border-r border-r-gray-800
            h-[calc(100vh-4.6875rem)]
            overflow-y-auto overflow-x-hidden
            [scrollbar-gutter:stable]
            [scrollbar-width:thin] [scrollbar-color:#555_#111]
            [&::-webkit-scrollbar]:w-[8px]
            [&::-webkit-scrollbar-track]:bg-[#111]
            [&::-webkit-scrollbar-thumb]:bg-[#555]
            [&::-webkit-scrollbar-thumb:hover]:bg-[#666]
            [&::-webkit-scrollbar-button]:hidden
        "
    >

        {% block main_body_main_content %}{% endblock %}

    </div>

    {{  
        community_aside([
            {
                'user_info': {
                    'user_profile_link': 'library',
                    'user_profile_picture': 'explore.png',
                    'user_name': "User's Nickname",
                },
                'metric': 'likes',
                'total': '154.6K',
            }
        ])
    }}

{% endblock %}