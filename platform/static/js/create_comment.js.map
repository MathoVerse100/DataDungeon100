{
  "version": 3,
  "sources": ["../ts/create_comment.ts"],
  "sourcesContent": ["document.addEventListener(\"DOMContentLoaded\", () => {\n  const create_comments =\n    document.querySelectorAll<HTMLElement>(\".create_comment\");\n\n  create_comments.forEach((create_comment) => {\n    const textarea = create_comment.querySelector(\"textarea\");\n    const comment_configs = create_comment.querySelector(\".comment_configs\")!;\n    const dropdown = document.querySelector(\".dropdown\");\n\n    textarea?.addEventListener(\"input\", () => {\n      if (textarea.scrollHeight > textarea.clientHeight) {\n        textarea.style.height = textarea.scrollHeight + \"px\";\n      }\n    });\n\n    document.addEventListener(\"click\", (event) => {\n      if (event.target === textarea) {\n        textarea.style.borderBottomLeftRadius = \"0\";\n        textarea.style.borderBottomRightRadius = \"0\";\n\n        comment_configs.style.display = \"flex\";\n      }\n    });\n\n    comment_configs\n      .querySelector(\".comment_cancel\")\n      ?.addEventListener(\"click\", () => {\n        textarea.value = \"\";\n        comment_configs.style.display = \"none\";\n        textarea.style.borderBottomLeftRadius = \"1rem\";\n        textarea.style.borderBottomRightRadius = \"1rem\";\n      });\n\n    comment_configs\n      .querySelector(\".comment_submit\")\n      ?.addEventListener(\"click\", (event) => {\n        fetch(\"/api/communities/posts/analytics/1/comments\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            content: textarea?.value,\n          }),\n          credentials: \"include\",\n        })\n          .then((response) => response.json())\n          .then((data) => {\n            const user_info = JSON.parse(data.user_info);\n            const element = `\n          <div class=\"comment mt-[2em] flex flex-col justify-stretch items-stretch\">\n              <div\n                  class=\"\n                      px-[1em] [@media(min-width:480px)]:px-[2em] py-[0.5em] w-[100%]\n                      transition-all duration-[200ms]\n                  \"\n              >\n                  <section class=\"w-[100%] flex flex-row justify-start items-center gap-[0.5em]\">\n                      <a\n                          href=\"http://localhost:8000/assets/library.png\"\n                          class=\"\n                              text-white h-[2rem] aspect-[1/1] rounded-[50%]\n                          \"\n                          style=\"\n                              background-image: url('http://localhost:8000/assets/library.png');\n                              background-size: 75%;\n                              background-position: center;\n                              background-repeat: no-repeat;\n                          \"\n                      >\n                      </a>\n                      <span class=\"text-white text-[0.75rem] font-bold\">${\n                        user_info!.first_name\n                      } ${user_info!.last_name}</span>\n                      <span class=\"text-gray-500 text-[0.75rem]\">2025/05/16 23:34:09</span>\n                  </section>\n                  <section class=\"flex flex-row justify-stretch items-stretch gap-[0.5em]\">\n                      <div\n                          class=\"relative w-[2em] my-[0.25em] flex justify-stretch items-stretch rounded-[1em]\"\n                          onmouseover=\"\n                              this.querySelector('.comment-highlighter').style.backgroundColor = 'oklch(55.1% 0.027 264.364)';\n                          \"\n                          onmouseout=\"\n                              this.querySelector('.comment-highlighter').style.backgroundColor = 'oklch(27.9% 0.041 260.031)';\n                          \"\n                      >\n                          <div class=\"flex-1 h-full\"></div>\n                          <div class=\"comment-highlighter w-[0.5px] h-full bg-slate-800\"></div>\n                          <div class=\"flex-1 h-full\"></div>\n                      </div>\n                      <div class=\"flex-1\">\n                          <article\n                              class=\"\n                                  text-sm text-gray-400 font-sans break-words text-wrap whitespace-pre-wrap\n                              \"\n                          >${textarea?.value}</article>\n                          <section class=\"mt-[0.5em] w-[100%] flex flex-row justify-start items-center gap-[1em]\">\n                            <div \n                                class=\"\n                                    h-[1.5em] [@media(min-width:480px)]:h-[2em] flex flex-row justify-stretch items-stretch gap-[0.5em]\n                                \"\n                                onclick=\"event.stopPropagation();\"\n                            >\n                                <button \n                                    class=\"\n                                        aspect-[1/1] rounded-[50%] transition-all duration-[100ms]\n                                        hover:cursor-pointer hover:bg-gray-500 hover:bg-opacity-25\n                                        active:bg-gray-800 active:bg-opacity-50\n                                    \"\n                                    style=\"\n                                        background-image: url('http://localhost:8000/assets/like.png');\n                                        background-size: 60%;\n                                        background-position: 50% 40%;\n                                        background-repeat: no-repeat;\n                                    \"\n                                ></button>\n                                <span class=\"flex-1 self-center text-gray-300 text-xs [@media(min-width:480px)]:text-sm font-sans font-bold\">0</span>\n                            </div>\n                            <div \n                                class=\"\n                                    h-[1.5em] [@media(min-width:480px)]:h-[2em] flex flex-row justify-stretch items-stretch gap-[0.5em]\n                                \"\n                                onclick=\"event.stopPropagation();\"\n                            >\n                                <button \n                                    class=\"\n                                        aspect-[1/1] rounded-[50%] transition-all duration-[100ms]\n                                        hover:cursor-pointer hover:bg-gray-500 hover:bg-opacity-25\n                                        active:bg-gray-800 active:bg-opacity-50\n                                    \"\n                                    style=\"\n                                        background-image: url('http://localhost:8000/assets/dislike.png');\n                                        background-size: 60%;\n                                        background-position: 50% 75%;\n                                        background-repeat: no-repeat;\n                                    \"\n                                ></button>\n                                <span class=\"flex-1 self-center text-gray-300 text-xs [@media(min-width:480px)]:text-sm font-sans font-bold\">0</span>\n                            </div>\n                          </section>\n                      </div>\n                  </section>\n\n                  <a\n                      class=\"\n                          mx-[3em] mt-[0.5em] py-[0.25em] px-[2em] w-[12em]\n                          rounded-[1rem] flex flex-row justify-center items-center\n                          bg-gray-800 text-white text-xs font-sans font-bold transition-all\n                          duration-[100ms] hover:bg-gray-500 hover:bg-opacity-25 active:scale-[0.95]\n                      \"\n                      href='/communities/analytics/post_id/comments/comment_id/thread/2'\n                  >\n                      View full thread\n                  </a>\n              </div>\n          </div>\n        `;\n\n            const temp = document.createElement(\"template\");\n            temp.innerHTML = element.trim();\n            const tempElement = temp.content.firstChild;\n            dropdown?.after(tempElement);\n\n            textarea.value = \"\";\n            comment_configs.style.display = \"none\";\n            textarea.style.borderBottomLeftRadius = \"1rem\";\n            textarea.style.borderBottomRightRadius = \"1rem\";\n          })\n          .catch((error) => console.error(\"Error:\", error));\n      });\n  });\n});\n"],
  "mappings": ";AAAA,SAAS,iBAAiB,oBAAoB,MAAM;AAClD,QAAM,kBACJ,SAAS,iBAA8B,iBAAiB;AAE1D,kBAAgB,QAAQ,CAAC,mBAAmB;AAC1C,UAAM,WAAW,eAAe,cAAc,UAAU;AACxD,UAAM,kBAAkB,eAAe,cAAc,kBAAkB;AACvE,UAAM,WAAW,SAAS,cAAc,WAAW;AAEnD,cAAU,iBAAiB,SAAS,MAAM;AACxC,UAAI,SAAS,eAAe,SAAS,cAAc;AACjD,iBAAS,MAAM,SAAS,SAAS,eAAe;AAAA,MAClD;AAAA,IACF,CAAC;AAED,aAAS,iBAAiB,SAAS,CAAC,UAAU;AAC5C,UAAI,MAAM,WAAW,UAAU;AAC7B,iBAAS,MAAM,yBAAyB;AACxC,iBAAS,MAAM,0BAA0B;AAEzC,wBAAgB,MAAM,UAAU;AAAA,MAClC;AAAA,IACF,CAAC;AAED,oBACG,cAAc,iBAAiB,GAC9B,iBAAiB,SAAS,MAAM;AAChC,eAAS,QAAQ;AACjB,sBAAgB,MAAM,UAAU;AAChC,eAAS,MAAM,yBAAyB;AACxC,eAAS,MAAM,0BAA0B;AAAA,IAC3C,CAAC;AAEH,oBACG,cAAc,iBAAiB,GAC9B,iBAAiB,SAAS,CAAC,UAAU;AACrC,YAAM,+CAA+C;AAAA,QACnD,QAAQ;AAAA,QACR,SAAS;AAAA,UACP,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM,KAAK,UAAU;AAAA,UACnB,SAAS,UAAU;AAAA,QACrB,CAAC;AAAA,QACD,aAAa;AAAA,MACf,CAAC,EACE,KAAK,CAAC,aAAa,SAAS,KAAK,CAAC,EAClC,KAAK,CAAC,SAAS;AACd,cAAM,YAAY,KAAK,MAAM,KAAK,SAAS;AAC3C,cAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0EAuBJ,UAAW,UACb,IAAI,UAAW,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAsBjB,UAAU,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+DhC,cAAM,OAAO,SAAS,cAAc,UAAU;AAC9C,aAAK,YAAY,QAAQ,KAAK;AAC9B,cAAM,cAAc,KAAK,QAAQ;AACjC,kBAAU,MAAM,WAAW;AAE3B,iBAAS,QAAQ;AACjB,wBAAgB,MAAM,UAAU;AAChC,iBAAS,MAAM,yBAAyB;AACxC,iBAAS,MAAM,0BAA0B;AAAA,MAC3C,CAAC,EACA,MAAM,CAAC,UAAU,QAAQ,MAAM,UAAU,KAAK,CAAC;AAAA,IACpD,CAAC;AAAA,EACL,CAAC;AACH,CAAC;",
  "names": []
}
